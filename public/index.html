<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Donor Matcher - Hackathon Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }
        
        .tab {
            background: white;
            border: none;
            padding: 15px 30px;
            margin: 0 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .tab.active {
            background: #ff6b6b;
            color: white;
            transform: translateY(-2px);
        }
        
        .content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 500px;
        }
        
        .hidden {
            display: none;
        }
        
        .about-section {
            text-align: center;
        }
        
        .team-members {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .member-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .member-card img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            filter: none;
            border: 3px solid rgba(255,255,255,0.6);
            margin-bottom: 12px;
            background: #ddd;
        }
        
        .member-card .avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: inline-block;
            border: 3px solid rgba(255,255,255,0.6);
            margin-bottom: 12px;
            filter: none;
            background: #e0f2ff;
        }
        
        .map-container {
            margin-top: 30px;
            text-align: center;
        }
        
        .map-container iframe {
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .card h3 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .card p {
            color: #666;
            line-height: 1.6;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-menu {
            position: relative;
        }
        
        .menu-dots {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .menu-dots:hover {
            background: #f0f0f0;
            color: #333;
        }
        
        .menu-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            min-width: 120px;
            display: none;
        }
        
        .menu-dropdown.show {
            display: block;
        }
        
        .menu-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.3s ease;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item:hover {
            background: #f8f9fa;
        }
        
        .menu-item.remove {
            color: #dc3545;
        }
        
        .menu-item.remove:hover {
            background: #f8d7da;
        }
        
        .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .status.active {
            background: #d4edda;
            color: #155724;
        }
        
        .status.matched {
            background: #fff3cd;
            color: #856404;
        }
        
        .status.completed {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .donor-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .donor-card:hover {
            transform: translateY(-5px);
        }
        
        .donor-card h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .donor-card p {
            margin: 8px 0;
            font-size: 0.95rem;
        }
        
        .contact-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .contact-btn:hover {
            background: #f0f0f0;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü©∏ Blood Donor Matcher</h1>
            <p>Real-time blood donor and patient matching platform</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('patient')">Patient Portal</button>
            <button class="tab" onclick="showTab('donor')">Donor Portal</button>
            <button class="tab" onclick="showTab('remove')">Remove Donor</button>
            <button class="tab" onclick="showTab('requests')">Active Requests</button>
            <button class="tab" onclick="showTab('about')">About App</button>
        </div>
        
        <div class="content">
            <!-- Patient Portal -->
            <div id="patient-tab" class="tab-content">
                <h2>ü©∫ Patient Portal</h2>
                <p>Create a blood request to find nearby donors</p>
                
                <form id="patient-form">
                    <div class="form-group">
                        <label>Blood Type Required</label>
                        <select id="blood-type" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Urgency Level</label>
                        <select id="urgency" required>
                            <option value="">Select Urgency</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                            <option value="critical">Critical</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Hospital Name</label>
                        <input type="text" id="hospital-name" placeholder="Enter hospital name" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Hospital Address</label>
                        <input type="text" id="hospital-address" placeholder="Enter hospital address" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Patient/Contact Phone Number</label>
                        <input type="tel" id="patient-phone" placeholder="Enter contact phone number" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Patient Name (Optional)</label>
                        <input type="text" id="patient-name" placeholder="Enter patient name">
                    </div>
                    
                    <div class="form-group">
                        <label>Additional Notes</label>
                        <textarea id="notes" rows="3" placeholder="Any additional information..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn">üö® Create Blood Request</button>
                </form>
                
                <div id="patient-result" class="hidden">
                    <div class="alert alert-success">
                        <h3>‚úÖ Request Created Successfully!</h3>
                        <p>Your blood request has been posted. We found <span id="donor-count">0</span> nearby donors!</p>
                        <div id="request-details" class="hidden" style="margin-top: 15px; padding: 10px; background: rgba(255,255,255,0.2); border-radius: 8px;">
                            <p><strong>üìã Request Details:</strong></p>
                            <p><strong>Patient:</strong> <span id="display-patient-name">-</span></p>
                            <p><strong>Contact:</strong> <span id="display-patient-phone">-</span></p>
                            <p><strong>Hospital:</strong> <span id="display-hospital-name">-</span></p>
                        </div>
                    </div>
                    
                    <div id="matched-donors" class="hidden">
                        <h3>üéØ Available Donors Found:</h3>
                        <div id="donors-list" class="grid">
                            <!-- Donors will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Donor Portal -->
            <div id="donor-tab" class="tab-content hidden">
                <h2>‚ù§Ô∏è Donor Portal</h2>
                <p>Register as a blood donor and help save lives</p>
                
                <form id="donor-form">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="donor-name" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Blood Type</label>
                        <select id="donor-blood-type" required>
                            <option value="">Select Your Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="donor-phone" placeholder="Enter your phone number" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="donor-location" placeholder="Enter your city/location" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Availability Status</label>
                        <select id="availability">
                            <option value="true">Available to Donate</option>
                            <option value="false">Currently Unavailable</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn">‚ù§Ô∏è Register as Donor</button>
                </form>
                
                <div id="donor-result" class="hidden">
                    <div class="alert alert-success">
                        <h3>‚úÖ Donor Registration Successful!</h3>
                        <p>You're now registered as a blood donor. You'll receive notifications for nearby requests.</p>
                    </div>
                </div>
            </div>
            
            <!-- Remove Donor -->
            <div id="remove-tab" class="tab-content hidden">
                <h2>üóëÔ∏è Remove Donor</h2>
                <p>Remove a donor from the system</p>
                
                <div class="card" style="border-left: 5px solid #ff6b6b;">
                    <h3>üóëÔ∏è Remove Donor Registration</h3>
                    <p>Enter donor details to remove from the system</p>
                    
                    <form id="remove-form">
                        <div class="form-group">
                            <label>Donor Name</label>
                            <input type="text" id="remove-name" placeholder="Enter donor name to remove" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" id="remove-phone" placeholder="Enter phone number" required>
                        </div>
                        
                        <div class="form-group">
                            <label>Reason for Removal (Optional)</label>
                            <select id="remove-reason">
                                <option value="">Select reason</option>
                                <option value="moved">Moved to different location</option>
                                <option value="health">Health reasons</option>
                                <option value="personal">Personal reasons</option>
                                <option value="no-longer-interested">No longer interested</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-danger">üóëÔ∏è Remove Donor</button>
                    </form>
                    
                    <div id="remove-result" class="hidden">
                        <div class="alert alert-success">
                            <h3>‚úÖ Donor Removed Successfully!</h3>
                            <p>The donor has been removed from the system and will no longer receive notifications.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Active Requests -->
            <div id="requests-tab" class="tab-content hidden">
                <h2>üìã Active Blood Requests</h2>
                <p>View all active blood donation requests</p>
                
                <div id="requests-list">
                    <div class="card" id="request-1">
                        <div class="card-header">
                            <h3>ü©∏ O+ Blood Needed - Critical</h3>
                            <div class="card-menu">
                                <button class="menu-dots" onclick="toggleMenu('menu-1')">‚ãÆ</button>
                                <div class="menu-dropdown" id="menu-1">
                                    <div class="menu-item remove" onclick="removeRequest('request-1', 'O+ Blood Request - John Smith')">üóëÔ∏è Remove</div>
                                </div>
                            </div>
                        </div>
                        <p><strong>Hospital:</strong> City General Hospital</p>
                        <p><strong>Location:</strong> Downtown Medical Center</p>
                        <p><strong>Patient Contact:</strong> +1 (555) 999-8888</p>
                        <p><strong>Patient Name:</strong> John Smith</p>
                        <p><strong>Urgency:</strong> <span class="status active">Critical</span></p>
                        <p><strong>Posted:</strong> 15 minutes ago</p>
                        <button class="btn btn-success" style="margin-top: 10px;" onclick="acceptRequest('O+', 'John Smith', '+1 (555) 999-8888', 'City General Hospital')">Accept Request</button>
                    </div>
                    
                    <div class="card" id="request-2">
                        <div class="card-header">
                            <h3>ü©∏ A- Blood Needed - High</h3>
                            <div class="card-menu">
                                <button class="menu-dots" onclick="toggleMenu('menu-2')">‚ãÆ</button>
                                <div class="menu-dropdown" id="menu-2">
                                    <div class="menu-item remove" onclick="removeRequest('request-2', 'A- Blood Request - Maria Rodriguez')">üóëÔ∏è Remove</div>
                                </div>
                            </div>
                        </div>
                        <p><strong>Hospital:</strong> Regional Medical Center</p>
                        <p><strong>Location:</strong> Northside Hospital</p>
                        <p><strong>Patient Contact:</strong> +1 (555) 777-6666</p>
                        <p><strong>Patient Name:</strong> Maria Rodriguez</p>
                        <p><strong>Urgency:</strong> <span class="status matched">High</span></p>
                        <p><strong>Posted:</strong> 1 hour ago</p>
                        <button class="btn btn-success" style="margin-top: 10px;" onclick="acceptRequest('A-', 'Maria Rodriguez', '+1 (555) 777-6666', 'Regional Medical Center')">Accept Request</button>
                    </div>
                    
                    <div class="card" id="request-3">
                        <div class="card-header">
                            <h3>ü©∏ B+ Blood Needed - Medium</h3>
                            <div class="card-menu">
                                <button class="menu-dots" onclick="toggleMenu('menu-3')">‚ãÆ</button>
                                <div class="menu-dropdown" id="menu-3">
                                    <div class="menu-item remove" onclick="removeRequest('request-3', 'B+ Blood Request - David Kim')">üóëÔ∏è Remove</div>
                                </div>
                            </div>
                        </div>
                        <p><strong>Hospital:</strong> Community Hospital</p>
                        <p><strong>Location:</strong> Westside Medical</p>
                        <p><strong>Patient Contact:</strong> +1 (555) 444-3333</p>
                        <p><strong>Patient Name:</strong> David Kim</p>
                        <p><strong>Urgency:</strong> <span class="status completed">Medium</span></p>
                        <p><strong>Posted:</strong> 2 hours ago</p>
                        <button class="btn btn-success" style="margin-top: 10px;" onclick="acceptRequest('B+', 'David Kim', '+1 (555) 444-3333', 'Community Hospital')">Accept Request</button>
                    </div>
                </div>
            </div>
            
            <!-- About App -->
            <div id="about-tab" class="tab-content hidden">
                <div class="about-section">
                    <h2>üì± About Our App</h2>
                    <p style="font-size: 1.2rem; margin: 20px 0; color: #666;">
                        Blood Donor Matcher is a real-time platform that connects patients in need of blood transfusions 
                        with nearby donors. Our mission is to save lives by making blood donation more accessible and efficient.
                    </p>
                    
                    <h3 style="margin: 30px 0 20px 0; color: #333;">üë• Team neXus6.0</h3>
                    <div class="team-members">
                        <div class="member-card">
                            <img class="avatar" src="/jpg2.png" alt="Founder avatar" />
                            <h4>FOUNDER1</h4>
                            <p>Founder</p>
                        </div>
                        <div class="member-card">
                            <img class="avatar" src="/jpg2.png" alt="Founder avatar" />
                            <h4>FOUNDER2</h4>
                            <p>Founder</p>
                        </div>
                        <div class="member-card">
                            <img class="avatar" src="/jpg3.png" alt="Founder female avatar" />
                            <h4>FOUNDER3</h4>
                            <p>Founder</p>
                        </div>
                        <div class="member-card">
                            <img class="avatar" src="/jpg2.png" alt="Founder avatar" />
                            <h4>FOUNDER4</h4>
                            <p>Founder</p>
                        </div>
                        <div class="member-card">
                            <img class="avatar" src="/jpg2.png" alt="Founder avatar" />
                            <h4>FOUNDER5</h4>
                            <p>Founder</p>
                        </div>
                        <div class="member-card">
                            <img class="avatar" src="/jpg2.png" alt="Founder avatar" />
                            <h4>FOUNDER6</h4>
                            <p>Founder</p>
                        </div>
                    </div>
                    
                    <div class="map-container">
                        <h3 style="margin-bottom: 20px; color: #333;">üìç Our Location</h3>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3808.119158893617!2d78.50522887578943!3d17.35799828352415!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb98686ae78299%3A0xb15620bbd3e6bec!2sMatrusri%20Engineering%20college!5e0!3m2!1sen!2sin!4v1757933011759!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Database simulation - store donors and requests
        let donorsDatabase = [];
        let requestsDatabase = [];
        
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Donor registration form submission
        document.getElementById('donor-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const donorData = {
                id: Date.now(),
                name: document.getElementById('donor-name').value,
                bloodType: document.getElementById('donor-blood-type').value,
                phone: document.getElementById('donor-phone').value,
                location: document.getElementById('donor-location').value,
                availability: document.getElementById('availability').value === 'true',
                registeredAt: new Date().toLocaleString()
            };
            
            // Add to database
            donorsDatabase.push(donorData);
            
            // Show success message
            document.getElementById('donor-result').classList.remove('hidden');
            document.getElementById('donor-form').reset();
            
            // Show confirmation
            alert(`‚úÖ Donor Registration Successful!\n\nüë§ Name: ${donorData.name}\nü©∏ Blood Type: ${donorData.bloodType}\nüì± Phone: ${donorData.phone}\nüìç Location: ${donorData.location}\n\nüìä Total Donors in Database: ${donorsDatabase.length}\n\nüéØ You'll now receive notifications for matching blood requests!`);
        });
        
        // Patient request form submission
        document.getElementById('patient-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const requestData = {
                id: Date.now(),
                bloodType: document.getElementById('blood-type').value,
                urgency: document.getElementById('urgency').value,
                hospitalName: document.getElementById('hospital-name').value,
                hospitalAddress: document.getElementById('hospital-address').value,
                patientPhone: document.getElementById('patient-phone').value,
                patientName: document.getElementById('patient-name').value || 'Anonymous',
                notes: document.getElementById('notes').value,
                requestedAt: new Date().toLocaleString()
            };
            
            // Add to database
            requestsDatabase.push(requestData);
            
            // Find matching donors
            const matchingDonors = findMatchingDonors(requestData.bloodType);
            
            // Show success message
            document.getElementById('patient-result').classList.remove('hidden');
            document.getElementById('donor-count').textContent = matchingDonors.length;
            
            // Show request details
            document.getElementById('request-details').classList.remove('hidden');
            document.getElementById('display-patient-name').textContent = requestData.patientName;
            document.getElementById('display-patient-phone').textContent = requestData.patientPhone;
            document.getElementById('display-hospital-name').textContent = requestData.hospitalName;
            
            // Display matched donors
            if (matchingDonors.length > 0) {
                document.getElementById('matched-donors').classList.remove('hidden');
                displayMatchedDonors(matchingDonors, requestData);
            }
            
            document.getElementById('patient-form').reset();
            
            // Show confirmation
            alert(`üö® Blood Request Created!\n\nü©∏ Blood Type: ${requestData.bloodType}\nüè• Hospital: ${requestData.hospitalName}\nüë§ Patient: ${requestData.patientName}\nüì± Contact: ${requestData.patientPhone}\n\nüéØ Found ${matchingDonors.length} matching donors!\n\nüìä Total Requests in Database: ${requestsDatabase.length}`);
        });
        
        // Find matching donors based on blood type
        function findMatchingDonors(requiredBloodType) {
            const compatibleTypes = getCompatibleBloodTypes(requiredBloodType);
            return donorsDatabase.filter(donor => 
                donor.availability && compatibleTypes.includes(donor.bloodType)
            );
        }
        
        // Get compatible blood types
        function getCompatibleBloodTypes(bloodType) {
            const compatibility = {
                'O+': ['O+', 'O-'],
                'O-': ['O-'],
                'A+': ['A+', 'A-', 'O+', 'O-'],
                'A-': ['A-', 'O-'],
                'B+': ['B+', 'B-', 'O+', 'O-'],
                'B-': ['B-', 'O-'],
                'AB+': ['A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-'],
                'AB-': ['A-', 'B-', 'AB-', 'O-']
            };
            return compatibility[bloodType] || [];
        }
        
        // Display matched donors
        function displayMatchedDonors(donors, requestData) {
            const donorsList = document.getElementById('donors-list');
            donorsList.innerHTML = '';
            
            donors.forEach((donor, index) => {
                const donorCard = document.createElement('div');
                donorCard.className = 'donor-card';
                donorCard.innerHTML = `
                    <h4>‚ù§Ô∏è ${donor.name}</h4>
                    <p><strong>Blood Type:</strong> ${donor.bloodType}</p>
                    <p><strong>Location:</strong> ${donor.location}</p>
                    <p><strong>Phone:</strong> ${donor.phone}</p>
                    <p><strong>Registered:</strong> ${donor.registeredAt}</p>
                    <button class="contact-btn" onclick="contactDonor('${donor.name}', '${donor.phone}', '${requestData.patientName}', '${requestData.patientPhone}', '${requestData.hospitalName}')">
                        üìû Contact Donor
                    </button>
                `;
                donorsList.appendChild(donorCard);
            });
        }
        
        // Contact donor function
        function contactDonor(donorName, donorPhone, patientName, patientPhone, hospitalName) {
            alert(`ü©∏ BLOOD DONATION REQUEST\n\nüìû Contacting: ${donorName}\nüì± Phone: ${donorPhone}\n\nüìã Request Details:\n‚Ä¢ Patient: ${patientName}\n‚Ä¢ Hospital: ${hospitalName}\n‚Ä¢ Patient Phone: ${patientPhone}\n\nüöÄ This would normally:\n‚Ä¢ Send SMS notification to donor\n‚Ä¢ Make automated phone call\n‚Ä¢ Share real-time location\n‚Ä¢ Provide hospital directions\n‚Ä¢ Send confirmation to patient\n\n‚úÖ Donor will be notified immediately!`);
        }
        
        // Accept request function
        function acceptRequest(bloodType, patientName, patientPhone, hospitalName) {
            alert(`üéØ ACCEPTING BLOOD REQUEST\n\nü©∏ Blood Type: ${bloodType}\nüë§ Patient: ${patientName}\nüì± Patient Phone: ${patientPhone}\nüè• Hospital: ${hospitalName}\n\nüöÄ What happens next:\n‚Ä¢ You'll receive hospital directions\n‚Ä¢ Patient will be notified of your acceptance\n‚Ä¢ Hospital will be informed of your arrival\n‚Ä¢ You'll get real-time updates\n‚Ä¢ Emergency contact will be provided\n\n‚úÖ Thank you for saving a life!`);
        }
        
        // Toggle menu dropdown
        function toggleMenu(menuId) {
            // Close all other menus first
            document.querySelectorAll('.menu-dropdown').forEach(menu => {
                if (menu.id !== menuId) {
                    menu.classList.remove('show');
                }
            });
            
            // Toggle the clicked menu
            const menu = document.getElementById(menuId);
            menu.classList.toggle('show');
        }
        
        // Remove request function
        function removeRequest(requestId, requestTitle) {
            if (confirm(`üóëÔ∏è Are you sure you want to remove this blood request?\n\n${requestTitle}\n\nThis action cannot be undone.`)) {
                const requestCard = document.getElementById(requestId);
                requestCard.style.animation = 'fadeOut 0.5s ease-out';
                
                setTimeout(() => {
                    requestCard.remove();
                    alert(`‚úÖ Blood request removed successfully!\n\n${requestTitle}\n\nüìä The request has been removed from the system.`);
                }, 500);
            }
        }
        
        // Remove donor form submission
        document.getElementById('remove-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const donorName = document.getElementById('remove-name').value;
            const donorPhone = document.getElementById('remove-phone').value;
            const reason = document.getElementById('remove-reason').value;
            
            // Find and remove donor from database
            const donorIndex = donorsDatabase.findIndex(donor => 
                donor.name.toLowerCase() === donorName.toLowerCase() && 
                donor.phone === donorPhone
            );
            
            if (donorIndex !== -1) {
                const removedDonor = donorsDatabase.splice(donorIndex, 1)[0];
                document.getElementById('remove-result').classList.remove('hidden');
                document.getElementById('remove-form').reset();
                
                alert(`üóëÔ∏è DONOR REMOVED SUCCESSFULLY!\n\nüë§ Donor: ${removedDonor.name}\nü©∏ Blood Type: ${removedDonor.bloodType}\nüì± Phone: ${removedDonor.phone}\nüìç Location: ${removedDonor.location}\n\nüìä Remaining Donors: ${donorsDatabase.length}\n\nüö´ They will no longer receive notifications.`);
            } else {
                alert(`‚ùå Donor not found!\n\nüë§ Name: ${donorName}\nüì± Phone: ${donorPhone}\n\nPlease check the details and try again.`);
            }
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.card-menu')) {
                document.querySelectorAll('.menu-dropdown').forEach(menu => {
                    menu.classList.remove('show');
                });
            }
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ü©∏ Blood Donor Matcher initialized!');
            console.log('üìä Database ready for donors and requests');
        });
    </script>
</body>
</html>